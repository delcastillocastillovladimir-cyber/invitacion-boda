<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex, nofollow">
  <title>Confirmar Asistencia</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="hero">
  <div class="hero-content">

    <h1>Confirmar asistencia</h1>
    <p>Completa tus datos ğŸ’</p>

    <form id="rsvp-form" class="rsvp-form">

      <label class="field">
        <span>Nombre y apellido</span>
        <input
          id="nombre"
          name="nombre"
          type="text"
          placeholder="Ej: Ana PÃ©rez"
          autocomplete="name"
          required
        />
      </label>

      <div class="confirm-actions">
        <button type="button" class="btn btn-confirm" id="btn-si">
          ğŸ’– SÃ­, asistirÃ©
        </button>
        <button type="button" class="btn no btn-confirm" id="btn-no">
          ğŸ˜” No podrÃ© asistir
        </button>
      </div>

      <a class="btn back-btn" href="index.html">â¬… Volver</a>

    </form>

  </div>
</header>

<script>
  const nombreEl = document.getElementById("nombre");

  function confirmar(respuesta) {
    const nombre = (nombreEl.value || "").trim();

    if (!nombre) {
      nombreEl.focus();
      return;
    }

    // âœ… MENSAJES DE WHATSAPP (SIN ACOMPAÃ‘ANTES)
    const mensajeSi =
      `Hola, soy ${nombre}. Confirmo que SÃ asistirÃ© a la boda.\n\n` +
      `Datos para regalo ğŸ\n` +
      `Banco: CHASE\n` +
      `Titular: VLADIMIR Y MADAY\n` +
      `Sort Code: 20-39-80\n` +
      `Account Number: 59034525`;

    const mensajeNo =
      `Hola, soy ${nombre}. Lamentablemente NO podrÃ© asistir a la boda.`;

    const mensaje = (respuesta === "si") ? mensajeSi : mensajeNo;

    // ğŸ“² Abrir WhatsApp
    const waUrl =
      `https://wa.me/+447729965201?text=${encodeURIComponent(mensaje)}`;
    window.open(waUrl, "_blank");

    // â¡ï¸ Redirigir a gracias.html
    const graciasUrl =
      `gracias.html?respuesta=${encodeURIComponent(respuesta)}` +
      `&nombre=${encodeURIComponent(nombre)}`;

    window.location.href = graciasUrl;
  }

  document.getElementById("btn-si")
    .addEventListener("click", () => confirmar("si"));

  document.getElementById("btn-no")
    .addEventListener("click", () => confirmar("no"));
</script>

</body>
</html>
